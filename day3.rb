topography = [
  '....#...#####..##.#..##..#....#',
  '..##.#.#.........#.#......##...',
  '#.#.#.##.##...#.......#...#..#.',
  '..##.............#.#.##.....#..',
  '##......#.............#....#...',
  '.....##..#.....##.#.......##..#',
  '.##.....#........##...##.#....#',
  '.##......#.#......#.....#..##.#',
  '##....#..#...#...#...##.#...##.',
  '##........##.#...##......#.#.#.',
  '..#.#........#...##.....#.....#',
  '..#.......####.#....#..#####...',
  '.##..#..#..##.#.....###.#..#...',
  '......###..##.....#.#.#..###.#.',
  '..#.#...#..##.....#....#.#.....',
  '.....#.#...#.###.#..#..........',
  '##.....#...#.#....#..#.#.......',
  '..#...#...#.........##......#..',
  '......#.#...#...#..#...##.#...#',
  '....#.................##.##....',
  '...#......#.............#....##',
  '##..#..#..........#...##.#.#...',
  '....#...##....#..#.#...........',
  '##.#.#.#...#....#........#..#.#',
  '...###..........#...#...#..##.#',
  '..##.......###.#......##.##....',
  '...........#.#....#.....#.#...#',
  '..#......##.#...##.#.#......#.#',
  '..........#.#....#.#..#....#...',
  '##..##...##.......#.#....#.#.##',
  '.##..#.#..#...........#.#...#.#',
  '#......##......#....####.#....#',
  '..###......##...#...#.#.......#',
  '.#.##.##....##..#..##...#......',
  '.#....#..#........#..#.##.#.#..',
  '..#.........#.#.###....###.#...',
  '..#..#.#.#..#..#.##.##...####..',
  '#..#..#......#..#.#....#.#.#.##',
  '..#.........#...#..#.#.#..#...#',
  '#..#......###.....##....##.....',
  '#..#.....#.#.#.##.....##...#.#.',
  '##..#.#...#.........#.#........',
  '#....#.......#.....#..#..#.#...',
  '...###.##.###.###.#####..#...#.',
  '.....#..#.#..##...............#',
  '..#.....###.###.#.....#.#....##',
  '###.#.........#..#.#.#..#.#..#.',
  '.##.........#..#..##....#.#...#',
  '.#...#........#...#.....#....#.',
  '####..........###....#.#.#....#',
  '....##..###....#....#.#...#....',
  '..............##......##..#.###',
  '.#...........###.#.#....#......',
  '###.#..#..#...#.........##.....',
  '..#.....##...#.#.....##...#.##.',
  '.###.#........#..#.#...#.#..##.',
  '.......##....##.........##.#..#',
  '#....#...#...##...#.#..#..#..##',
  '...#...##..#...#...#.#....#.#.#',
  '#.#......#.#...##......#.#...##',
  '.#.###..#.###.#.....#.##.##.#.#',
  '#...#............#...#.##..##..',
  '....#..###.......#.....##....#.',
  '.#####..#.....#.....#...#.....#',
  '..##..#..###.......##.#........',
  '.#...##.##.....#.##...##...#..#',
  '......###...#....#....#........',
  '....#...#.#....#...#.#.#......#',
  '....#..##...##.#..#....###.....',
  '...#...#..#.#...#....#.#..#####',
  '####....#.....#.........#.#....',
  '...###.#.#..#.#..##............',
  '.##..#####..#...#..#..#.......#',
  '.###......#.#.#..#....#.....#..',
  '#....##.##..#.#...............#',
  '...#.#..#........#......#....#.',
  '#.....#....###....#..#.#.#.....',
  '.#..#....#...#.#.....##....#...',
  '..#.##.#.##.#..#.##.#.....#.#..',
  '.......#.......###..###..#...#.',
  '.#.......#..#........#.#.......',
  '.#.#...#.....#.##..##.....#....',
  '#.......##....#......#.....##..',
  '.#.....#...##...#..##.....#....',
  '....#..#.#.......#.#.#.........',
  '..#....#....##.##..#..##.##.#..',
  '.#...#....##...#........#....#.',
  '#.#......#...#....#...........#',
  '.#....#..#..###.#.....#..#.....',
  '..#..................#.....#...',
  '..#...###..#..####.#..#.#.#.#..',
  '...#........##...##..##..#....#',
  '...#.....#........##..#.....#.#',
  '#....#.....##.##......#...##...',
  '...#####....#..##..##...#.#....',
  '###.........#.#..#..#..##.#...#',
  '##...#..##...#.##.#........#...',
  '.#....#.#...#..#...#..#.#......',
  '.#......##.#...#...#..#....#...',
  '#..#.#.#......##.##.####..#....',
  '.#...#.#.##...##.#...#...#.....',
  '####.#.........#...##..##....##',
  '.....###........###.##...#.#...',
  '.##.....#.....#....##.....##...',
  '.#.#...#####....##...##.....#..',
  '....###..........#......##..#.#',
  '..#.....#....#..#...#.....##..#',
  '...##.##.#.######....#.#....##.',
  '...#.#.#...#..#....##.........#',
  '.#.#...##...#....#.#....##.....',
  '...#..#.....#.....#.##.....#...',
  '.#.#.#.....#.##.#....#.#....##.',
  '#...#......###...#..###...#....',
  '...##.#.#..#........##.......#.',
  '.####.####......#........#.....',
  '....#..#####....#......####....',
  '#...##.#..#..#####.#...#......#',
  '#.#....#..#.........###........',
  '.##.........#....#......#.#....',
  '...###.........####.#........##',
  '..#..#........#.#..##......#..#',
  '.##..#....#...##.####.#...#....',
  '......#.......#..#..#.#.##.#...',
  '.###....#.#...#.#.......##..#.#',
  '#...#....#............#####....',
  '...#.##......#####..#........#.',
  '..#...##.....#...#..#.#........',
  '...#.#...#...##...#..#....#....',
  '..#..##.....#....#.#.###.......',
  '.......##..#...#.............##',
  '.....#.....#..##.##.....#......',
  '.....##...#......#..##....#.###',
  '.#...#.#.#.#.##.....##..###..#.',
  '....##..........#.....###......',
  '....#...#.#.#..#.......#....#..',
  '..###...#...........##..###....',
  '...#.##.......#....#....#.#....',
  '##...#..##..#.##..........##..#',
  '.##.....#..#......##..####.#.##',
  '....##..#.#.###......#..#...#..',
  '####..#.#....#...#....###.#.#..',
  '###......#...##.##..#.##..#..#.',
  '..#.#..#.#.#.....#...#..#.####.',
  '.###.#...##...##....##......#.#',
  '..#............#.##..#....#..#.',
  '###.......#......###..#........',
  '....##......###.....#.#..###...',
  '..#...##...#......#..#.........',
  '#..####.#....#.....###....#.#..',
  '.#.#.#.......##....###.........',
  '.......#.##.#####....#.#...####',
  '.#...#....#....#.###..#.....#..',
  '.###.#.#.###.###.#..####.##.#..',
  '....#.........#.#.......##.....',
  '#..#..#.#...........#.#.##..#.#',
  '.#.....#..#...#.....#.##......#',
  '..###.#............#.....####..',
  '#.....##..##...#....####....#..',
  '...#.....#..................#..',
  '....#.###.#..#..#..##..#..##...',
  '...##.#........#......#...##...',
  '#................##....#...#...',
  '..##......##.#.##..#....#.....#',
  '.#..#.....#..........##.#.#....',
  '.....#...####....#..#......#...',
  '..#......###.#.#.#.#.......#..#',
  '.##......#.......#....###.#....',
  '#..#.#.#..#...#.#.##..##..#....',
  '....#...##..#.#......#.##...#..',
  '...###...#.##..#...#....#......',
  '##......#.#...#.#.#.........#..',
  '..#..........#...###.#.##....#.',
  '...##.....#.....#...###..#.....',
  '..####.#.....#.#.....#..#.#....',
  '.#.....##...##.##.#.....#.####.',
  '.......#.....#...##..........#.',
  '.#...#.#....#####....###.#..#.#',
  '.##.##....##...##.#.....#......',
  '#......#.##..#..##.#.#.......#.',
  '.#..#....###..#........##...#..',
  '..#......##.......###..##...#..',
  '.#..........#.#.......##.....#.',
  '....##.....##.#.#.##........##.',
  '..#.#..###..#..##...#.##...#...',
  '.......#.....#..#...#...#.....#',
  '##.#...#.#.#.##........#......#',
  '..###.....##..#....#.......##..',
  '#####..####...#.#..##.#...#..#.',
  '#...####....#........#....#....',
  '.#.#.#..#...##....#.......#.#..',
  '...#....##..##..#..#..#####.###',
  '...#......#.#..#......#...####.',
  '.##.....##.##.#.####.#..##...#.',
  '....#..#..##..##....#....#...##',
  '##.###........#...##....#.....#',
  '..#.#.#.......#....#..#....#...',
  '......##.....##....#...#.....#.',
  '#.#..#.#.......#....#.#.#......',
  '.....###..#...#.....#..##..#...',
  '......###.....#.#.#...#...##..#',
  '.#..#.#....##...#...#........#.',
  '#..###.#...####.#...#..........',
  '.#.##.#..#..##..#..###..##...#.',
  '.......#.#..........#.........#',
  '#......###..##..#....###.......',
  '..#............#.#........#...#',
  '..##.#.............#......#..##',
  '.#....#..#.#..#....###..#...#..',
  '....##....#..##...###....#....#',
  '.#....###.............#........',
  '#..#...#..#....#.##.#.....##...',
  '...........#.....#....#....#...',
  '.##.##.#...#....##......##..##.',
  '......#.#.##.#..##........#...#',
  '....##...##...#...#...#.#......',
  '.#...#....#...#......#.#...#..#',
  '........##.....#.#..#...##..##.',
  '##...#.....#.....####...#..#...',
  '.#.#..##.##......#...#.#...#...',
  '##...##.#......#....#.######.#.',
  '##.....####.###......#.##.#....',
  '.#.##....##........#...#..####.',
  '.......#..#....##...#.#...#..#.',
  '...##..........#..#........#..#',
  '.##.....#...#...#.##.###.......',
  '.##....#...#.#..#.....#...#....',
  '..#...#.....#.####.#.........#.',
  '#...#.##...#.#..#.#..#.###.#..#',
  '.##..#.#.##.........####....###',
  '.#..##........#..#.......#.....',
  '......#.#####.#.........#.#...#',
  '......#....#.#####...........#.',
  '..##....##..#.#..#....#......##',
  '#.#......#.##.#.##....#....#.#.',
  '..#..##.#...#.......##.........',
  '.....##.#...#..........#.......',
  '...#........#..#...#.....##.###',
  '....##.........#...#.#.....#...',
  '.......#.#....#...#.......#...#',
  '.#..#...##....#..#...........#.',
  '.#....##.##.#..#..####.#.#.....',
  '.##........#.....#..#......##..',
  '.#..##......#......#..##..#....',
  '###.....##.......#..##.#.......',
  '.....##......#.#...##...##.....',
  '.##....##..#..#####...#...#.##.',
  '##...##.#....##.#.#.#....##....',
  '.#.....#...#......#......##....',
  '##.#............#...#....#.....',
  '#..#.....#.....##.##.##..#..##.',
  '......#..............#..#...#.#',
  '....#.#....##......#..#...#....',
  '.#...#..#...#......#..##....#.#',
  '.....#......#..##...#.#....#...',
  '#...............#.##..#......#.',
  '.....#..##.#..#.#...###.....#..',
  '...#..#..#...#....#..#..##.#...',
  '.#...#...#..#......##...#......',
  '....###............#.#.#....#..',
  '#.#...#..#..#.#....#........#..',
  '....#.#.#..#..#....#..#...##.#.',
  '.#....#.#...#....#......#.#...#',
  '##..#.#.#..#.....#...###....#.#',
  '.##.....#.#...#..........#..#.#',
  '#....#......#....#.#.#...#.....',
  '#.#.....#.###.......#..#..#.#..',
  '#.....##..#.###...#...##...#.##',
  '.#.##....#.#.....##......###...',
  '.#.......##................#...',
  '.........#........####......#..',
  '...##.###..#.....#.#.....##.#..',
  '..#....#.#.#.##..........#.....',
  '#..##.....#.............##.....',
  '.##...#..#.......#.......#..#..',
  '...#.................#......##.',
  '....#....#.....#..###.#....###.',
  '..#.#..#...#..#.....###....#.#.',
  '.....###...#....#....#.#.##..##',
  '...#...#.........####........#.',
  '.......#..##.........#.........',
  '.#......##.....#.#####...##....',
  '....#.###...#.#....##..#......#',
  '.##..#....#.#....#..#.###.....#',
  '..#...#.#...#.##.....#.#....##.',
  '#.#.#.#.....##...#.#..##..#....',
  '.#............#.#.#..#...#...#.',
  '...##.#..#..####.#.###..##.....',
  '.##.....#.......#..##.#...##.#.',
  '#.#...#..#.##...##...####..#..#',
  '...##.......#.#.#.#.#.#...#..##',
  '...#.#.##..##..............###.',
  '.....#...#........#...#......#.',
  '..#..#..##....#..##.#.....#....',
  '#.....##........#.........##.#.',
  '###..#....#.##..##.............',
  '.#..#...#.#......#..#..##.....#',
  '...#.#.#............##........#',
  '..#.#....#..#....##....#...##.#',
  '...##...#...#..........##.#####',
  '....#..#.#.......##....#.#.###.',
  '##..#..#..#...###.#.....#......',
  '....###.#.#.#.##..##.#...#.....',
  '.....####..#.#..#.#......#.#.#.',
  '#.....#...#..#.#.........#..#..',
  '.##....#.#.####......##..#..##.',
  '......#.##.#.#..#..#....#.#....',
  '.#..#...#...#...#..#.....#.....',
  '..##.#..............#......#...',
  '.....###.##.......#.....#..#...',
  '..#.#..#..#.......#...##.##..#.',
  '##.###......#......#.#..#..##..',
  '..##.....#..#..#......#..#.....',
  '...##.......#.#..#.........#.#.',
  '......##.##.#.......#..#.#.....',
  '#......#........##..#.......#.#',
  '###....#...#...#.#...#..#..#...',
  '#..###....#....####..#...#.....',
  '....##..#.##.#....#..##...#.#..',
  '#.##..#....##..#...#..#.#.#..#.',
  '#.........#.....#...#.......#..',
  '...#.....#.#.....#........##...',
  '..#.##..#......#...#.....##.#..',
  '...###....#.....#...#..#.##..#.'
]

def part1(topography)
  x = 0
  y = 0
  tree_count = 0

  while y < topography.length
    x += 3
    x -= topography[y].length if x >= topography[y].length
    y += 1
    y = topography.length - 1 if y >= topography.length

    tree_count += 1 if topography[y][x, 1] == '#'

    break if y == topography.length - 1
  end

  tree_count
end
puts part1(topography)

def part2(topography)
  xy = [[1, 1], [3, 1], [5, 1], [7, 1], [1, 2]]
  tree_counts = []

  xy.each do |path|
    x = 0
    y = 0
    tree_count = 0

    while y < topography.length
      x += path[0]
      x -= topography[y].length if x >= topography[y].length
      y += path[1]
      y = topography.length - 1 if y >= topography.length

      tree_count += 1 if topography[y][x, 1] == '#'

      break if y == topography.length - 1
    end

    tree_counts << tree_count
  end

  tree_counts.reduce(:*)
end
puts part2(topography)
